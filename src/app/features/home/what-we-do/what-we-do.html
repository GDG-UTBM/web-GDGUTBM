<section class="section what-we-do" id="ce-que-nous-faisons">
  <div class="container-custom">
    <header class="what-head">
      <h2 class="what-title">{{ languageService.isFrench() ? 'Ce que nous faisons' : 'What We Do' }}</h2>
      <p class="what-subtitle">
        {{ languageService.isFrench()
        ? 'Des expériences d’apprentissage concrètes, conçues pour progresser ensemble.'
        : 'Hands-on learning experiences designed to grow together.' }}
      </p>
    </header>

    <div class="what-grid what-grid--illus">
      @for (activity of activities(); track activity.id) {
        <article class="what-illus-card" (click)="openActivityDetail(activity)">
          <div class="what-illus" aria-hidden="true">
            <div class="what-illus-icon">{{ activity.icon }}</div>
            <div class="what-illus-lines">
              <span></span>
              <span></span>
              <span></span>
            </div>
          </div>

          <div class="what-illus-body">
            <h3 class="what-illus-title">{{ languageService.isFrench() ? activity.title_fr : activity.title_en }}</h3>
            <p class="what-illus-desc">{{ languageService.isFrench() ? activity.description_fr : activity.description_en }}</p>
            <div class="what-illus-cta">
              {{ languageService.isFrench() ? 'Découvrir' : 'Discover' }} <span class="arrow">›</span>
            </div>
          </div>
        </article>
      }
    </div>
  </div>
</section>

@if (selectedActivity()) {
  <app-activity-detail-modal
    [activity]="selectedActivity()!"
    (close)="closeActivityDetail()">
  </app-activity-detail-modal>
}
