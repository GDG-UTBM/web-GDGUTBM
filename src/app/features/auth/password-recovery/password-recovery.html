<div class="min-h-screen bg-gdg-bg py-12">
  <div class="container-custom max-w-lg">
    <div class="bg-gdg-surface rounded-r24 border border-gdg-line p-6 md:p-8 shadow-sm">
      <h1 class="text-2xl font-semibold mb-2">
        {{ languageService.isFrench() ? 'Mot de passe' : 'Password' }}
      </h1>
      <p class="text-gdg-muted mb-6">
        {{ languageService.isFrench()
        ? 'Réinitialisez ou changez votre mot de passe.'
        : 'Reset or change your password.' }}
      </p>

      @if (!hasSession()) {
        <form [formGroup]="requestForm" (ngSubmit)="requestReset()" class="space-y-4">
          <div>
            <label class="block text-sm font-medium mb-1">Email</label>
            <input type="email" formControlName="email" class="w-full border border-gdg-line rounded-r10 px-3 py-2">
          </div>
          <button type="submit" class="btn-primary" [disabled]="isLoading()">
            {{ languageService.isFrench() ? 'Envoyer le lien' : 'Send reset link' }}
          </button>
        </form>
      } @else {
        <form [formGroup]="resetForm" (ngSubmit)="resetPassword()" class="space-y-4">
          <div>
            <label class="block text-sm font-medium mb-1">{{ languageService.isFrench() ? 'Nouveau mot de passe' : 'New password' }}</label>
            <input type="password" formControlName="new_password" class="w-full border border-gdg-line rounded-r10 px-3 py-2">
          </div>
          <div>
            <label class="block text-sm font-medium mb-1">{{ languageService.isFrench() ? 'Confirmer le mot de passe' : 'Confirm password' }}</label>
            <input type="password" formControlName="confirm_password" class="w-full border border-gdg-line rounded-r10 px-3 py-2">
          </div>
          <button type="submit" class="btn-primary" [disabled]="isLoading()">
            {{ languageService.isFrench() ? 'Mettre à jour' : 'Update password' }}
          </button>
        </form>
      }

      @if (message()) {
        <div class="mt-4 p-3 rounded-r10 bg-green-50 text-green-700 text-sm border border-green-100">
          {{ message() }}
        </div>
      }
      @if (errorMessage()) {
        <div class="mt-4 p-3 rounded-r10 bg-red-50 text-red-700 text-sm border border-red-100">
          {{ errorMessage() }}
        </div>
      }
    </div>
  </div>
</div>
